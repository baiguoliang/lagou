(function(){var a={getRandom:function(c,b){c=Math.ceil(c);b=Math.floor(b);return Math.floor(Math.random()*(b-c+1))+c},getColor:function(){var e=this.getRandom(0,255);var d=this.getRandom(0,255);var c=this.getRandom(0,255);return"rgb("+e+", "+d+", "+c+")"}};window.Tools=a})();(function(){var b="absolute";function a(c){c=c instanceof Object?c:{};this.width=c.width||20;this.height=c.height||20;this.x=c.x||0;this.y=c.y||0;this.color=c.color||"green";this.elements=[]}a.prototype.render=function(d){var c=document.createElement("div");this.x=Tools.getRandom(0,d.clientWidth/this.width-1)*this.width;this.y=Tools.getRandom(0,d.clientHeight/this.height-1)*this.height;c.style.width=this.width+"px";c.style.height=this.height+"px";c.style.left=this.x+"px";c.style.top=this.y+"px";c.style.backgroundColor=this.color;c.style.position=b;d.appendChild(c);this.elements.push(c)};a.prototype.remove=function(d,c){d.removeChild(this.elements[c]);this.elements.splice(c,1)};window.Food=a})();(function(){var b="absolute";function a(c){c=c instanceof Object?c:{};this.width=c.width||20;this.height=c.height||20;this.body=[{x:3,y:2,color:"orange"},{x:2,y:2,color:"#bfa"},{x:1,y:2,color:"#bfa"}];this.direction="right";this.elements=[]}a.prototype.render=function(g){for(var d=0,c=this.body.length;d<c;d++){var e=this.body[d];var f=document.createElement("div");f.style.width=this.width+"px";f.style.height=this.height+"px";f.style.left=e.x*this.width+"px";f.style.top=e.y*this.height+"px";f.style.position=b;f.style.backgroundColor=e.color;g.appendChild(f);this.elements.push(f)}};a.prototype.move=function(){for(var d=this.body.length-1;d>0;d--){this.body[d].x=this.body[d-1].x;this.body[d].y=this.body[d-1].y}var c=this.body[0];switch(this.direction){case"right":c.x+=1;break;case"left":c.x-=1;break;case"top":c.y-=1;break;case"bottom":c.y+=1;break}};a.prototype.remove=function(){for(var c=this.elements.length-1;c>=0;c--){map.removeChild(this.elements[c])}this.elements=[]};window.Snake=a})();(function(){var b;function d(e){this.food=new Food();this.snake=new Snake();this.map=e;b=this}d.prototype.start=function(){this.food.render(this.map);this.food.render(this.map);this.food.render(this.map);this.snake.render(this.map);a();c()};function c(){document.onkeydown=function(f){switch(f.keyCode){case 37:b.snake.direction="left";break;case 38:b.snake.direction="top";break;case 39:b.snake.direction="right";break;case 40:b.snake.direction="bottom";break}}}function a(){var e=setInterval(function(){b.snake.move();b.snake.remove(b.map);b.snake.render(b.map);var l=b.map.offsetWidth/b.snake.width;var j=b.map.offsetHeight/b.snake.height;var f=b.snake.body[0].x;var n=b.snake.body[0].y;var m=f*b.snake.width;var k=n*b.snake.height;for(var g=0;g<b.food.elements.length;g++){if(b.food.elements[g].offsetLeft===m&&b.food.elements[g].offsetTop===k){b.food.remove(b.map,g);b.food.render(b.map);var h=b.snake.body[b.snake.body.length-1];b.snake.body.push({x:h.x,y:h.y,color:h.color})}}if(f<0||f>=l||n<0||n>=j){clearInterval(e);alert("Game over")}},150)}window.Game=d})();(function(){var b=document.getElementById("map");var a=new Game(b);a.start()})();