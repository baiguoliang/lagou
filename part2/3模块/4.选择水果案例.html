<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    select {
      width: 200px;
      height: 200px;
      background-color: #33cccc;
      font-size: 20px;
    }
  </style>
</head>

<body>
  <select id="all" size="5" multiple="multiple">
    <!-- <option>苹果</option>
    <option>葡萄</option>
    <option>香蕉</option>
    <option>橘子</option>
    <option>西瓜</option> -->
  </select>

  <input type="button" value=">>" id="btn1">
  <input type="button" value="<<" id="btn2">
  <input type="button" value=">" id="btn3">
  <input type="button" value="<" id="btn4">

  <select id="choose" multiple="multiple"></select>

  <script src="./common.js"></script>
  <script>
    // 获取元素
    var all = my$('all');
    var choose = my$('choose');
    var btn1 = my$('btn1');
    var btn2 = my$('btn2');
    var btn3 = my$('btn3');
    var btn4 = my$('btn4');

    // 水果名数组
    var fruits = [
      { name: '苹果' },
      { name: '葡萄' },
      { name: '香蕉' },
      { name: '橘子' },
      { name: '西瓜' }
    ];

    // 遍历水果数组，将数组内容添加到 option 中
    for (var i = 0; i < fruits.length; i++) {
      // 创建 option 元素
      var options = document.createElement('option');
      // 添加到 select 元素中
      all.appendChild(options);
      // 将水果名添加到 option 中
      options.innerText = fruits[i].name;
    }

    // 给第一个按钮添加点击事件，让 all 中所有的子元素移动到 choose 中
    btn1.onclick = function () {
      // 获取 all 中所有子元素
      var opts = all.children; // 内部的元素是动态添加的
      // 获取最开始数组的个数
      var n = opts.length;
      // console.log(n);
      // 将所有的 opts 中的元素添加给 choose
      for (var i = 0; i < n; i++) {
        choose.appendChild(opts[0]);
      }
    }

    btn2.onclick = function () {
      var opts = choose.children;
      var n = opts.length;
      for (var i = 0; i < n; i++) {
        all.appendChild(opts[0]);
      }
    }

    // 单选向右移动
    btn3.onclick = function () {
      var opts = all.children;
      // 移动的内容希望可以是固定的数组中的项
      var arr = [];
      // 通过判断条件，往 arr 中添加需要移动的元素
      for (var i = 0; i < opts.length; i++) {
        if (opts[i].selected === true) {
          arr.push(opts[i]);
        }
      }
      // console.log(arr);

      // 得到固定数组之后，对需要移动的固定数组进行遍历
      for (var j = 0; j < arr.length; j++) {
        choose.appendChild(arr[j]);
        arr[j].selected = false;
      }
    }

    // 单选向左移动
    btn4.onclick = function () {
      var opts = choose.children;
      // 移动的内容希望可以是固定的数组中的项
      var arr = [];
      // 通过判断条件，往 arr 中添加需要移动的元素
      for (var i = 0; i < opts.length; i++) {
        if (opts[i].selected === true) {
          arr.push(opts[i]);
        }
      }

      // 得到固定数组之后，对需要移动的固定数组进行遍历
      for (var j = 0; j < arr.length; j++) {
        all.appendChild(arr[j]);
        arr[j].selected = false;
      }
    }


  </script>
</body>

</html>